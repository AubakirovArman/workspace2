# 🎭 Обновление: Две страницы + Оптимизация

## ✨ Что добавлено:

### 1. **Навигационное меню**
- Красивое меню вверху страницы
- Переключение между режимами
- Активная страница подсвечивается

### 2. **Страница "Создать и скачать"** (`/`)
- Полная генерация видео с lip-sync
- Скачивание готового MP4
- Показ статистики обработки
- **Время:** ~15-20 секунд на GPU

### 3. **Страница "Реалтайм озвучка"** (`/realtime`)
- Быстрая озвучка по чанкам
- Мгновенное воспроизведение
- Без генерации видео (только аудио)
- **Время:** ~2-3 секунды на чанк

### 4. **Оптимизация inference**
- `face_det_batch_size`: 16 → 8 (быстрее)
- `wav2lip_batch_size`: 128 → 64 (быстрее)
- **Ускорение:** ~20-30%

## 🌐 Использование:

### Открыть веб-приложение:
```
http://localhost:3000
```

### Навигация:
- **📥 Создать и скачать** - полное видео с синхронизацией губ
- **🎙️ Реалтайм озвучка** - быстрая озвучка без видео

## 🎯 Режимы работы:

### Режим 1: Создать и скачать
```
Текст → TTS → Lip-sync → MP4 видео
⏱️ 15-20s на GPU / 30-50s на CPU
📥 Скачивание готового видео
```

### Режим 2: Реалтайм озвучка
```
Текст → Разбивка на чанки → TTS для каждого чанка → Воспроизведение
⏱️ 2-3s первый чанк, остальные параллельно
🎙️ Начинает говорить почти сразу
```

## 🚀 API Endpoints:

### Полная генерация (с видео):
```bash
POST /api/generate
{
  "text": "Привет!",
  "language": "ru"
}
→ Returns: MP4 video
```

### Реалтайм (только аудио):
```bash
POST /api/generate_stream
{
  "text": "Чанк текста",
  "language": "ru",
  "chunk_index": 0
}
→ Returns: MP3 audio
```

## ⚡ Производительность:

| Режим | Первый ответ | Полная обработка |
|-------|--------------|------------------|
| **Скачать** | 15-20s | 15-20s |
| **Реалтайм** | 2-3s | 2-3s × чанков |

**Преимущество реалтайм:** Пользователь слышит речь через 2-3 секунды!

## 📂 Новые файлы:

- `templates/realtime.html` - страница реалтайм озвучки
- Обновлен `templates/index.html` - добавлено меню
- Обновлен `app.py` - новые routes и оптимизация

## 🎨 Как это выглядит:

```
┌────────────────────────────────────────────────────┐
│  🎭 Говорящий Аватар                               │
│  [📥 Создать и скачать] [🎙️ Реалтайм озвучка]     │
├────────────────────────────────────────────────────┤
│                                                    │
│  Режим 1: Создать видео и скачать                 │
│  • Полная генерация с lip-sync                    │
│  • Высокое качество                               │
│  • Скачивание MP4                                 │
│                                                    │
│  Режим 2: Реалтайм озвучка                        │
│  • Быстрый старт (2-3s)                           │
│  • Потоковая обработка                            │
│  • Воспроизведение сразу                          │
└────────────────────────────────────────────────────┘
```

---

**Готово к использованию! Откройте http://localhost:3000** 🚀
